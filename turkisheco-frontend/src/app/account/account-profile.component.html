<div class="profile-page">
  <h1>Hesap Ayarları</h1>

  <div *ngIf="isLoading">Yükleniyor...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <form *ngIf="!isLoading" [formGroup]="form" (ngSubmit)="save()">
    <div class="profile-header">
      <div class="avatar">
        <img
          *ngIf="form.value.avatarUrl; else noAvatar"
          [src]="form.value.avatarUrl"
          alt="Avatar"
        />
        <ng-template #noAvatar>
          <div class="avatar-placeholder">No Avatar</div>
        </ng-template>
      </div>

      <div class="avatar-input">
        <label for="avatarUrl">Avatar URL</label>
        <input id="avatarUrl" type="text" formControlName="avatarUrl" />
        <small>Şimdilik URL ile. Sonra gerçek dosya yükleme ekleriz.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="displayName">Görünen İsim</label>
      <input id="displayName" type="text" formControlName="displayName" />
      <div
        *ngIf="
          form.get('displayName')?.touched &&
          form.get('displayName')?.invalid
        "
        class="validation-error"
      >
        Görünen isim zorunlu.
      </div>
    </div>

    <div class="form-group">
      <label for="bio">Biyografi</label>
      <textarea id="bio" rows="5" formControlName="bio"></textarea>
      <small>Kendini tanıtan kısa bir yazı yazabilirsin.</small>
    </div>

    <button type="submit" [disabled]="isSaving || form.invalid">
      {{ isSaving ? 'Kaydediliyor...' : 'Kaydet' }}
    </button>
  </form>
</div>
